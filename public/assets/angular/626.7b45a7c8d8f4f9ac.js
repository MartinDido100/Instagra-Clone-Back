"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[626],{626:(Qe,k,d)=>{d.r(k),d.d(k,{HomeModule:()=>Ye});var g=d(6019),m=d(8228),e=d(3556),M=d(6077),Z=d(8260),_=d(7384),w=d(4522);let b=(()=>{class o{constructor(t){this.http=t,this.storagePath=Z.N.storagePath,this.baseUrl=Z.N.baseUrl,this._following=[],this._followers=[]}get following(){return[...this._following]}get followers(){return[...this._followers]}get profile(){return Object.assign({},this._profile)}follow(t){return this._following.push(t),this.http.post(`${this.baseUrl}/user/follow/${t.id}`,{})}unfollow(t){return this._following=this._following.filter(n=>n.id!==t),this.http.post(`${this.baseUrl}/user/unfollow/${t}`,{})}getAvatar(t){return t?`${this.storagePath}/users/${t}`:"assets/angular/assets/images/no-image.jpg"}getFollowers(){return this.http.get(`${this.baseUrl}/user/followers`).pipe((0,_.b)(t=>{this._followers=t.followers}))}getFollowing(){return this.http.get(`${this.baseUrl}/user/following`).pipe((0,_.b)(t=>{this._following=t.following}))}getProfile(t){return this.http.get(`${this.baseUrl}/user/getOne/${t}`).pipe((0,_.b)(i=>{this._profile=i}))}searchUsers(t){return this.http.get(`${this.baseUrl}/user/search/${t.trim()}`)}updateProfile(t){return this.http.post(`${this.baseUrl}/user/update`,t).pipe((0,_.b)(n=>{this._profile={ok:n.ok,name:n.user.name,surname:n.user.surname,email:n.user.email,avatar_path:n.user.avatar_path,id:n.user.id,follows:this._profile.follows,followers:this._profile.followers,images:this._profile.images}}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(w.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),C=(()=>{class o{constructor(t){this.http=t,this.storagePath=Z.N.storagePath,this.apiUrl=Z.N.baseUrl,this._dashboard=[],this._myLikes=[]}getImage(t){return t?`${this.storagePath}/images/${t}`:""}get dashboard(){return[...this._dashboard]}get myLikes(){return[...this._myLikes]}getLikes(t){return this.http.get(`${this.apiUrl}/image/likes/${t}`)}getMyLikes(){return this.http.get(`${this.apiUrl}/mylikes`).pipe((0,_.b)(t=>{this._myLikes=t.myLikes}))}like(t,n=!1){if(-1!=this._myLikes.findIndex(a=>a.image_id==t))return!1;if(this._myLikes.push({image_id:t}),!n){const a=this._dashboard.findIndex(c=>c.id==t);this._dashboard[a].likes++}return this.http.post(`${this.apiUrl}/like/${t}`,{}).subscribe(),!0}dislike(t,n=!1){const i=this._myLikes.findIndex(a=>a.image_id==t);if(-1==i)return!1;if(this._myLikes.splice(i,1),!n){const a=this._dashboard.findIndex(c=>c.id==t);this._dashboard[a].likes--}return this.http.post(`${this.apiUrl}/dislike/${t}`,{}).subscribe(),!0}getDashboard(){return this.http.get(`${this.apiUrl}/image/dashboard`).pipe((0,_.b)(t=>{this._dashboard=t.data}))}comment(t,n,i=!1){const a=`${this.apiUrl}/comment/${t}`,c={content:n};if(!i){const s=this._dashboard.findIndex(p=>p.id==t);this._dashboard[s].comment_number++}return this.http.post(a,c)}clearArrays(){this._dashboard=[],this._myLikes=[]}uploadImage(t){return this.http.post(`${this.apiUrl}/image/upload`,t).pipe((0,_.b)(n=>{this._dashboard.unshift(n)}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(w.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var N=d(273),z=d(7908);class H extends z.w0{constructor(r,t){super()}schedule(r,t=0){return this}}const P={setInterval(...o){const{delegate:r}=P;return((null==r?void 0:r.setInterval)||setInterval)(...o)},clearInterval(o){const{delegate:r}=P;return((null==r?void 0:r.clearInterval)||clearInterval)(o)},delegate:void 0};var j=d(3980);const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class v{constructor(r,t=v.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,n){return new this.schedulerActionCtor(this,r).schedule(n,t)}}v.now=T.now;const Q=new class extends v{constructor(r,t=v.now){super(r,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let n;this._active=!0;do{if(n=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,n){for(;r=t.shift();)r.unsubscribe();throw n}}}(class extends H{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){if(this.closed)return this;this.state=r;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(r,t,n=0){return P.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;P.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(r,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let i,n=!1;try{this.work(r)}catch(a){n=!0,i=a||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.P)(n,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}});var B=d(9947),E=d(8889),l=d(7537);const y=function(o){return["/",o]};function G(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",43),e.TgZ(1,"a",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).closeSearch()}),e._UZ(2,"img",45),e.TgZ(3,"div",46),e.TgZ(4,"span",47),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(6,y,t.username)),e.xp6(1),e.Q6J("src",n.avatar(t.avatar_path),e.LSH),e.xp6(3),e.Oqu(t.username),e.xp6(2),e.Oqu(e.lcZ(8,4,t.name))}}function V(o,r){if(1&o&&(e.TgZ(0,"div",39),e._UZ(1,"div",40),e.TgZ(2,"ul",41),e.YNc(3,G,9,8,"li",42),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.usersSearched)}}function R(o,r){1&o&&(e.O4$(),e._UZ(0,"path",48))}function X(o,r){1&o&&(e.O4$(),e._UZ(0,"line",49))}function K(o,r){1&o&&(e.O4$(),e._UZ(0,"line",50))}function W(o,r){1&o&&(e.O4$(),e._UZ(0,"path",51))}function ee(o,r){1&o&&(e.O4$(),e._UZ(0,"polygon",52))}function te(o,r){1&o&&(e.O4$(),e._UZ(0,"polygon",53))}function ne(o,r){1&o&&(e.O4$(),e._UZ(0,"circle",54))}function oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",55),e._UZ(1,"div",56),e.TgZ(2,"ul",57),e.TgZ(3,"li",58),e.O4$(),e.TgZ(4,"svg",59),e._UZ(5,"circle",60),e._UZ(6,"path",61),e._UZ(7,"circle",62),e.qZA(),e.kcU(),e.TgZ(8,"a",63),e._uU(9,"Perfil"),e.qZA(),e.qZA(),e.TgZ(10,"li",58),e.O4$(),e.TgZ(11,"svg",64),e._UZ(12,"polygon",65),e.qZA(),e.kcU(),e.TgZ(13,"a",66),e._uU(14,"Guardado"),e.qZA(),e.qZA(),e.TgZ(15,"li",58),e.O4$(),e.TgZ(16,"svg",67),e._UZ(17,"circle",68),e._UZ(18,"path",69),e.qZA(),e.kcU(),e.TgZ(19,"a",66),e._uU(20,"Configuracion"),e.qZA(),e.qZA(),e.TgZ(21,"li",70),e.TgZ(22,"a",71),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._uU(23,"Salir"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("routerLink",e.VKq(1,y,t.user.username))}}function ie(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeMenu()}),e.qZA()}}let re=(()=>{class o{constructor(t,n,i){this.aS=t,this.uS=n,this.iS=i,this.activeLink="home",this.userSearched="",this.openMenu=!1,this.usersSearched=[],this.messagesSvgPath="M12.003 2.001a9.705 9.705 0 110 19.4 10.876 10.876 0 01-2.895-.384.798.798 0 00-.533.04l-1.984.876a.801.801 0 01-1.123-.708l-.054-1.78a.806.806 0 00-.27-.569 9.49 9.49 0 01-3.14-7.175 9.65 9.65 0 0110-9.7z",this.debouncer=new N.x,this.onUpload=new e.vpe}searchUser(){this.debouncer.next(this.userSearched)}showUpload(){this.onUpload.emit("open")}get user(){return this.aS.user}showMenu(){this.activeLink=`${this.activeLink}disabled`,this.openMenu=!0}closeMenu(){this.activeLink=this.activeLink.replace("disabled",""),this.openMenu=!1}getFillHome(){return"home"===this.activeLink?"":"none"}getViewBoxHome(){return"like"===this.activeLink?"0 0 48 48":"0 0 24 24"}getSvgClass(t,n){return this.activeLink===t?`selected-${n}`:`unselected-${n}`}changeActiveLink(t){this.activeLink=t}avatar(t){return this.uS.getAvatar(t)}logout(){this.aS.logout(),this.iS.clearArrays()}closeSearch(){this.usersSearched=[],this.userSearched=""}ngOnInit(){this.debouncer.pipe(function(o,r=Q){return(0,B.e)((t,n)=>{let i=null,a=null,c=null;const s=()=>{if(i){i.unsubscribe(),i=null;const u=a;a=null,n.next(u)}};function p(){const u=c+o,h=r.now();if(h<u)return i=this.schedule(void 0,u-h),void n.add(i);s()}t.subscribe(new E.Q(n,u=>{a=u,c=r.now(),i||(i=r.schedule(p,o),n.add(i))},()=>{s(),n.complete()},void 0,()=>{a=i=null}))})}(300)).subscribe(t=>{t?this.uS.searchUsers(t).subscribe(n=>{this.usersSearched=n}):this.usersSearched=[]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M.e),e.Y36(b),e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-header"]],outputs:{onUpload:"onUpload"},decls:43,vars:20,consts:[[1,"header"],[1,"elements"],[1,"header-img"],["routerLink","/",1,"opacity"],["src","assets/angular/assets/images/instagram-header.png","alt","Instagram"],[1,"searchbar"],[1,"lupa"],["aria-label","Buscar","color","#8e8e8e","fill","#8e8e8e","height","16","role","img","viewBox","0 0 24 24","width","16",1,"_8-yf5"],["d","M19 10.5A8.5 8.5 0 1110.5 2a8.5 8.5 0 018.5 8.5z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","16.511","x2","22","y1","16.511","y2","22"],["type","text","placeholder","Buscar",1,"header-input",3,"ngModel","ngModelChange","input"],["class","search-cont",4,"ngIf"],[1,"nav"],[1,"nav-ul"],[1,"nav-li","opacity"],["routerLink","/",3,"click"],["aria-label","Inicio","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["d","M9.005 16.545a2.997 2.997 0 012.997-2.997h0A2.997 2.997 0 0115 16.545V22h7V11.543L12 2 2 11.543V22h7.005z","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],["routerLink","/direct/imbox",3,"click"],["aria-label","Messenger","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","1.739"],["d","M17.79 10.132a.659.659 0 00-.962-.873l-2.556 2.05a.63.63 0 01-.758.002L11.06 9.47a1.576 1.576 0 00-2.277.42l-2.567 3.98a.659.659 0 00.961.875l2.556-2.049a.63.63 0 01.759-.002l2.452 1.84a1.576 1.576 0 002.278-.42z","fill-rule","evenodd",4,"ngIf"],[1,"nav-li","opacity",3,"click"],["aria-label","Nueva publicaci\xf3n","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["d","M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001",4,"ngIf"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455",4,"ngIf"],["routerLink","/explore",3,"click"],["aria-label","Buscar personas","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["d","M13.173 13.164l1.491-3.829-3.83 1.49zM12.001.5a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012.001.5zm5.35 7.443l-2.478 6.369a1 1 0 01-.57.569l-6.36 2.47a1 1 0 01-1.294-1.294l2.48-6.369a1 1 0 01.57-.569l6.359-2.47a1 1 0 011.294 1.294z",4,"ngIf"],["fill","none","points","13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2",4,"ngIf"],["fill-rule","evenodd","points","10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056",4,"ngIf"],["cx","12.001","cy","12.005","fill","none","r","10.5","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2",4,"ngIf"],["aria-label","Feed de actividad","color","#262626","fill","#262626","height","24","role","img","width","24"],[1,"nav-li","avatar-li"],[1,"avatar-cont",3,"click"],[1,"avatar",3,"src","alt"],["class","menu",4,"ngIf"],["class","menu-modal",3,"click",4,"ngIf"],[1,"search-cont"],[1,"search-square"],[1,"search-ul"],["class","search-li",4,"ngFor","ngForOf"],[1,"search-li"],[1,"search-item",3,"routerLink","click"],[1,"search-avatar",3,"src"],[1,"names"],[1,"names-username"],["d","M17.79 10.132a.659.659 0 00-.962-.873l-2.556 2.05a.63.63 0 01-.758.002L11.06 9.47a1.576 1.576 0 00-2.277.42l-2.567 3.98a.659.659 0 00.961.875l2.556-2.049a.63.63 0 01.759-.002l2.452 1.84a1.576 1.576 0 002.278-.42z","fill-rule","evenodd"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","6.545","x2","17.455","y1","12.001","y2","12.001"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12.003","x2","12.003","y1","6.545","y2","17.455"],["d","M13.173 13.164l1.491-3.829-3.83 1.49zM12.001.5a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012.001.5zm5.35 7.443l-2.478 6.369a1 1 0 01-.57.569l-6.36 2.47a1 1 0 01-1.294-1.294l2.48-6.369a1 1 0 01.57-.569l6.359-2.47a1 1 0 011.294 1.294z"],["fill","none","points","13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill-rule","evenodd","points","10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"],["cx","12.001","cy","12.005","fill","none","r","10.5","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"menu"],[1,"square"],[1,"menu-ul"],[1,"menu-li"],["aria-label","Perfil","color","#262626","fill","#262626","height","16","role","img","viewBox","0 0 24 24","width","16",1,"_8-yf5"],["cx","12.004","cy","12.004","fill","none","r","10.5","stroke","currentColor","stroke-linecap","round","stroke-miterlimit","10","stroke-width","2"],["d","M18.793 20.014a6.08 6.08 0 00-1.778-2.447 3.991 3.991 0 00-2.386-.791H9.38a3.994 3.994 0 00-2.386.791 6.09 6.09 0 00-1.779 2.447","fill","none","stroke","currentColor","stroke-linecap","round","stroke-miterlimit","10","stroke-width","2"],["cx","12.006","cy","9.718","fill","none","r","4.109","stroke","currentColor","stroke-linecap","round","stroke-miterlimit","10","stroke-width","2"],[1,"menu-a",3,"routerLink"],["aria-label","Guardado","color","#262626","fill","#262626","height","16","role","img","viewBox","0 0 24 24","width","16",1,"_8-yf5"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["routerLink","/",1,"menu-a"],["aria-label","Configuraci\xf3n","color","#262626","fill","#262626","height","16","role","img","viewBox","0 0 24 24","width","16",1,"_8-yf5"],["cx","12","cy","12","fill","none","r","8.635","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M14.232 3.656a1.269 1.269 0 01-.796-.66L12.93 2h-1.86l-.505.996a1.269 1.269 0 01-.796.66m-.001 16.688a1.269 1.269 0 01.796.66l.505.996h1.862l.505-.996a1.269 1.269 0 01.796-.66M3.656 9.768a1.269 1.269 0 01-.66.796L2 11.07v1.862l.996.505a1.269 1.269 0 01.66.796m16.688-.001a1.269 1.269 0 01.66-.796L22 12.93v-1.86l-.996-.505a1.269 1.269 0 01-.66-.796M7.678 4.522a1.269 1.269 0 01-1.03.096l-1.06-.348L4.27 5.587l.348 1.062a1.269 1.269 0 01-.096 1.03m11.8 11.799a1.269 1.269 0 011.03-.096l1.06.348 1.318-1.317-.348-1.062a1.269 1.269 0 01.096-1.03m-14.956.001a1.269 1.269 0 01.096 1.03l-.348 1.06 1.317 1.318 1.062-.348a1.269 1.269 0 011.03.096m11.799-11.8a1.269 1.269 0 01-.096-1.03l.348-1.06-1.317-1.318-1.062.348a1.269 1.269 0 01-1.03-.096","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"menu-li","logout"],["routerLink","/login",1,"menu-a",3,"click"],[1,"menu-modal",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"header",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"a",3),e._UZ(4,"img",4),e.qZA(),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.O4$(),e.TgZ(7,"svg",7),e._UZ(8,"path",8),e._UZ(9,"line",9),e.qZA(),e.qZA(),e.kcU(),e.TgZ(10,"input",10),e.NdJ("ngModelChange",function(a){return n.userSearched=a})("input",function(){return n.searchUser()}),e.qZA(),e.YNc(11,V,4,1,"div",11),e.qZA(),e.TgZ(12,"nav",12),e.TgZ(13,"ul",13),e.TgZ(14,"li",14),e.TgZ(15,"a",15),e.NdJ("click",function(){return n.changeActiveLink("home")}),e.O4$(),e.TgZ(16,"svg",16),e._UZ(17,"path",17),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(18,"li",14),e.TgZ(19,"a",18),e.NdJ("click",function(){return n.changeActiveLink("messages")}),e.O4$(),e.TgZ(20,"svg",19),e._UZ(21,"path",20),e.YNc(22,R,1,0,"path",21),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(23,"li",22),e.NdJ("click",function(){return n.showUpload()}),e.O4$(),e.TgZ(24,"svg",23),e._UZ(25,"path",24),e.YNc(26,X,1,0,"line",25),e.YNc(27,K,1,0,"line",26),e.qZA(),e.qZA(),e.kcU(),e.TgZ(28,"li",14),e.TgZ(29,"a",27),e.NdJ("click",function(){return n.changeActiveLink("explore")}),e.O4$(),e.TgZ(30,"svg",28),e.YNc(31,W,1,0,"path",29),e.YNc(32,ee,1,0,"polygon",30),e.YNc(33,te,1,0,"polygon",31),e.YNc(34,ne,1,0,"circle",32),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(35,"li",22),e.NdJ("click",function(){return n.changeActiveLink("like")}),e.O4$(),e.TgZ(36,"svg",33),e._UZ(37,"path"),e.qZA(),e.qZA(),e.kcU(),e.TgZ(38,"li",34),e.TgZ(39,"span",35),e.NdJ("click",function(){return n.showMenu()}),e._UZ(40,"img",36),e.qZA(),e.YNc(41,oe,24,3,"div",37),e.YNc(42,ie,1,0,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngModel",n.userSearched),e.xp6(1),e.Q6J("ngIf",n.usersSearched.length>0||!n.userSearched&&n.usersSearched.length>0),e.xp6(6),e.Udp("fill",n.getFillHome()),e.xp6(4),e.Tol(n.getSvgClass("messages","msg")),e.xp6(1),e.Q6J("ngIf","messages"!==n.activeLink),e.xp6(4),e.Q6J("ngIf","upload"!==n.activeLink),e.xp6(1),e.Q6J("ngIf","upload"!==n.activeLink),e.xp6(4),e.Q6J("ngIf","explore"===n.activeLink),e.xp6(1),e.Q6J("ngIf","explore"!==n.activeLink),e.xp6(1),e.Q6J("ngIf","explore"!==n.activeLink),e.xp6(1),e.Q6J("ngIf","explore"!==n.activeLink),e.xp6(2),e.uIk("viewBox",n.getViewBoxHome()),e.xp6(1),e.Tol(n.getSvgClass("like","like")),e.xp6(3),e.MGl("alt","Foto de perfil de ",n.user.username,""),e.Q6J("src",n.avatar(n.user.avatar_path),e.LSH),e.xp6(1),e.Q6J("ngIf",n.openMenu),e.xp6(1),e.Q6J("ngIf",n.openMenu))},directives:[m.yS,l.Fj,l.JJ,l.On,g.O5,g.sg],pipes:[g.rS],styles:['.header[_ngcontent-%COMP%]{width:100%;background:#fff;position:fixed;top:0;display:flex;z-index:10;justify-content:center;border-bottom:1px solid #dbdbdb;height:60px}.header[_ngcontent-%COMP%]   .search-cont[_ngcontent-%COMP%]{position:absolute;right:0;left:0;top:3.779em;margin-right:auto;margin-left:auto;background:#ffffff;width:365px;height:362px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;-ms-border-radius:6px;-o-border-radius:6px;box-shadow:0 0 5px 1px #0000001a}.header[_ngcontent-%COMP%]   .names[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px}.header[_ngcontent-%COMP%]   .names-username[_ngcontent-%COMP%]{font-weight:600}.header[_ngcontent-%COMP%]   .search-square[_ngcontent-%COMP%]{width:14px;height:14px;background:#fff;position:absolute;right:0;left:0;top:-.48em;margin-right:auto;margin-left:auto;transform:rotate(45deg)}.header[_ngcontent-%COMP%]   .search-ul[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:scroll}.header[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]{padding:.5em 1em;display:flex;align-items:center;justify-content:flex-start;gap:.6em}.header[_ngcontent-%COMP%]   .search-avatar[_ngcontent-%COMP%]{height:50px;border-radius:50%;width:50px;object-position:center;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.header[_ngcontent-%COMP%]   .elements[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%;max-width:975px;padding:0 20px}.header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{flex:1 0 127px;display:flex;justify-content:flex-end;height:100%}.header[_ngcontent-%COMP%]   .nav-ul[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:24px}.header[_ngcontent-%COMP%]   .nav-ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:stretch}.header[_ngcontent-%COMP%]   .nav-li[_ngcontent-%COMP%]:not(:first-child){margin-left:22px}.header[_ngcontent-%COMP%]   .nav-li[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px}.header[_ngcontent-%COMP%]   .searchbar[_ngcontent-%COMP%]{height:36px;min-width:125px;width:268px;border:none;padding:0 16px;background:#efefef;border-radius:8px;display:flex;align-items:center;gap:.6em;-webkit-border-radius:8px;-moz-border-radius:8px;-ms-border-radius:8px;-o-border-radius:8px}@media screen and (max-width: 735px){.header[_ngcontent-%COMP%]   .searchbar[_ngcontent-%COMP%]{display:none}}.header[_ngcontent-%COMP%]   .lupa[_ngcontent-%COMP%]{display:flex;padding-bottom:2px}.header[_ngcontent-%COMP%]   .header-input[_ngcontent-%COMP%]{flex-grow:1;border:none;background:transparent;outline:none;height:100%}.header[_ngcontent-%COMP%]   .header-input[_ngcontent-%COMP%]::placeholder{color:#8e8e8e;font-size:1rem;font-weight:300}.header[_ngcontent-%COMP%]   .header-img[_ngcontent-%COMP%]{flex:1 0 127px}.header[_ngcontent-%COMP%]   .header-img[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:7px}.header[_ngcontent-%COMP%]   .unselected-msg[_ngcontent-%COMP%]{d:path("M12.003 2.001a9.705 9.705 0 110 19.4 10.876 10.876 0 01-2.895-.384.798.798 0 00-.533.04l-1.984.876a.801.801 0 01-1.123-.708l-.054-1.78a.806.806 0 00-.27-.569 9.49 9.49 0 01-3.14-7.175 9.65 9.65 0 0110-9.7z");fill:none}.header[_ngcontent-%COMP%]   .selected-like[_ngcontent-%COMP%]{d:path("M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z")}.header[_ngcontent-%COMP%]   .unselected-like[_ngcontent-%COMP%]{d:path("M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z")}.header[_ngcontent-%COMP%]   .selected-msg[_ngcontent-%COMP%]{d:path("M12.003 1.131a10.487 10.487 0 00-10.87 10.57 10.194 10.194 0 003.412 7.771l.054 1.78a1.67 1.67 0 002.342 1.476l1.935-.872a11.767 11.767 0 003.127.416 10.488 10.488 0 0010.87-10.57 10.487 10.487 0 00-10.87-10.57zm5.786 9.001l-2.566 3.983a1.577 1.577 0 01-2.278.42l-2.452-1.84a.63.63 0 00-.759.002l-2.556 2.049a.659.659 0 01-.96-.874L8.783 9.89a1.576 1.576 0 012.277-.42l2.453 1.84a.63.63 0 00.758-.003l2.556-2.05a.659.659 0 01.961.874z");fill:currentColor;stroke:none}.header[_ngcontent-%COMP%]   .selected-upload[_ngcontent-%COMP%]{d:path("M12.003 5.545l-.117.006-.112.02a1 1 0 00-.764.857l-.007.117V11H6.544l-.116.007a1 1 0 00-.877.876L5.545 12l.007.117a1 1 0 00.877.876l.116.007h4.457l.001 4.454.007.116a1 1 0 00.876.877l.117.007.117-.007a1 1 0 00.876-.877l.007-.116V13h4.452l.116-.007a1 1 0 00.877-.876l.007-.117-.007-.117a1 1 0 00-.877-.876L17.455 11h-4.453l.001-4.455-.007-.117a1 1 0 00-.876-.877zM8.552.999h6.896c2.754 0 4.285.579 5.664 1.912 1.255 1.297 1.838 2.758 1.885 5.302L23 8.55v6.898c0 2.755-.578 4.286-1.912 5.664-1.298 1.255-2.759 1.838-5.302 1.885l-.338.003H8.552c-2.754 0-4.285-.579-5.664-1.912-1.255-1.297-1.839-2.758-1.885-5.302L1 15.45V8.551c0-2.754.579-4.286 1.912-5.664C4.21 1.633 5.67 1.05 8.214 1.002L8.552 1z");fill:currentColor;stroke:none}.header[_ngcontent-%COMP%]   .avatar-cont[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex}.header[_ngcontent-%COMP%]   .avatar-cont[_ngcontent-%COMP%]:after{border:1px solid rgba(0,0,0,.0975);border-radius:50%;bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.avatar-li[_ngcontent-%COMP%]{position:relative}.avatar-li[_ngcontent-%COMP%]   .menu-modal[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;cursor:initial}.avatar-li[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{z-index:600;position:absolute;background:#ffffff;width:230px;right:-1em;top:2.5em;border-radius:6px;box-shadow:0 0 5px 1px #0000001a}.avatar-li[_ngcontent-%COMP%]   .menu-ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;position:relative;background:#fff;border-radius:6px}.avatar-li[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{width:14px;height:14px;background:#fff;box-shadow:0 0 5px 1px #0000001a;position:absolute;top:-.4em;right:1.3em;transform:rotate(45deg);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}.avatar-li[_ngcontent-%COMP%]   .menu-a[_ngcontent-%COMP%]{width:100%;padding:8px 16px}.avatar-li[_ngcontent-%COMP%]   .menu-a[_ngcontent-%COMP%]:hover{background-color:#fafafa}.avatar-li[_ngcontent-%COMP%]   .menu-a[_ngcontent-%COMP%]:active{background-color:#efefef}.avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:first-child, .avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:first-child   .menu-a[_ngcontent-%COMP%]{border-radius:6px 6px 0 0;-webkit-border-radius:6px 6px 0 0;-moz-border-radius:6px 6px 0 0;-ms-border-radius:6px 6px 0 0;-o-border-radius:6px 6px 0 0}.avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:last-child, .avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:last-child   .menu-a[_ngcontent-%COMP%]{border-radius:0 0 6px 6px;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;-ms-border-radius:0 0 6px 6px;-o-border-radius:0 0 6px 6px}.avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;font-size:14px;padding-left:1em}.avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:hover{background-color:#fafafa}.avatar-li[_ngcontent-%COMP%]   .menu-li[_ngcontent-%COMP%]:active{background-color:#efefef}.avatar-li[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{border-top:1px solid #dbdbdb;padding-left:0}.avatar-li[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:16px;height:16px}']}),o})();function A(o,r,t,n,i,a,c){try{var s=o[a](c),p=s.value}catch(u){return void t(u)}s.done?r(p):Promise.resolve(p).then(n,i)}function U(o){return function(){var r=this,t=arguments;return new Promise(function(n,i){var a=o.apply(r,t);function c(p){A(a,n,i,c,s,"next",p)}function s(p){A(a,n,i,c,s,"throw",p)}c(void 0)})}}var q=d(5427);function ae(o,r){if(1&o&&e._UZ(0,"img",15),2&o){const t=e.oxw(2);e.Q6J("src",t.imagenPrevia,e.LSH)}}function le(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",16),e._UZ(1,"path",17),e._UZ(2,"path",18),e._UZ(3,"path",19),e.qZA())}function ce(o,r){1&o&&(e.TgZ(0,"span",20),e._uU(1,"Seleccionar imagen de la computadora"),e.qZA())}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._UZ(2,"input",23),e.qZA(),e.TgZ(3,"div",24),e.TgZ(4,"button",25),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(2).uploadImage()}),e._uU(5,"Subir"),e.qZA(),e.qZA(),e.qZA()}}function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",8),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().uploadImage()}),e.YNc(1,ae,1,1,"img",9),e.TgZ(2,"label",10),e.YNc(3,le,4,0,"svg",11),e.YNc(4,ce,2,0,"span",12),e.TgZ(5,"input",13),e.NdJ("change",function(i){return e.CHM(t),e.oxw().onFileSelected(i)}),e.qZA(),e.qZA(),e.YNc(6,se,6,0,"div",14),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.uploadForm),e.xp6(1),e.Q6J("ngIf",t.imagenPrevia),e.xp6(2),e.Q6J("ngIf",!t.imagenPrevia),e.xp6(1),e.Q6J("ngIf",!t.imagenPrevia),e.xp6(2),e.Q6J("ngIf",t.imagenPrevia)}}function pe(o,r){1&o&&e._UZ(0,"div",26)}let ge=(()=>{class o{constructor(t,n,i){var a=this;this.sanitizer=t,this.fb=n,this.iS=i,this.onCloseUpload=new e.vpe,this.uploading=!1,this.uploadForm=this.fb.group({file:["",[l.kI.required]],fileSource:["",[l.kI.required]],title:["",[l.kI.required]]}),this.blobFile=function(){var c=U(function*(s){return new Promise((p,u)=>{try{const h=window.URL.createObjectURL(s),f=a.sanitizer.bypassSecurityTrustUrl(h),x=new FileReader;x.readAsDataURL(s),x.onload=()=>{p({blob:s,image:f,base:x.result})},x.onerror=$e=>{p({blob:s,image:f,base:null})}}catch(h){return null}})});return function(s){return c.apply(this,arguments)}}()}closeUpload(){this.onCloseUpload.emit("close")}onFileSelected(t){const n=t.target.files[0];["image/png","image/jpg","image/jpeg"].includes(n.type)&&t.target.files.length>0&&(this.uploadForm.patchValue({fileSource:n}),this.blobFile(n).then(i=>{this.imagenPrevia=i.base}))}uploadImage(){if(this.uploadForm.invalid)return;const t=new FormData;t.append("image_path",this.uploadForm.get("fileSource").value),t.append("titulo",this.uploadForm.get("title").value),this.uploading=!0,this.iS.uploadImage(t).subscribe(n=>{this.uploading=!1,this.closeUpload()})}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.H7),e.Y36(l.qu),e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-upload"]],outputs:{onCloseUpload:"onCloseUpload"},decls:12,vars:2,consts:[[1,"background"],[1,"toClose-modal",3,"click"],[1,"cross",3,"click"],["aria-label","Cerrar","color","#ffffff","fill","#ffffff","height","18","role","img","viewBox","0 0 48 48","width","18",1,"fg7vo5n6","lrzqjn8y"],["clip-rule","evenodd","d","M41.8 9.8L27.5 24l14.2 14.2c.6.6.6 1.5 0 2.1l-1.4 1.4c-.6.6-1.5.6-2.1 0L24 27.5 9.8 41.8c-.6.6-1.5.6-2.1 0l-1.4-1.4c-.6-.6-.6-1.5 0-2.1L20.5 24 6.2 9.8c-.6-.6-.6-1.5 0-2.1l1.4-1.4c.6-.6 1.5-.6 2.1 0L24 20.5 38.3 6.2c.6-.6 1.5-.6 2.1 0l1.4 1.4c.6.6.6 1.6 0 2.2z","fill-rule","evenodd"],[1,"upload-form-cont"],["class","upload-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","uploading-spinner",4,"ngIf"],[1,"upload-form",3,"formGroup","ngSubmit"],[3,"src",4,"ngIf"],["for","file",1,"upload-form-field"],["aria-label","Icon to represent media such as images or videos","class","_ab6-","color","#262626","fill","#262626","height","77","role","img","viewBox","0 0 97.6 77.3","width","96",4,"ngIf"],["class","select-button",4,"ngIf"],["type","file","name","file","id","file","formControlName","file",3,"change"],["class","upload",4,"ngIf"],[3,"src"],["aria-label","Icon to represent media such as images or videos","color","#262626","fill","#262626","height","77","role","img","viewBox","0 0 97.6 77.3","width","96",1,"_ab6-"],["d","M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z","fill","currentColor"],["d","M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z","fill","currentColor"],["d","M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z","fill","currentColor"],[1,"select-button"],[1,"upload"],["id","text-field",1,"upload-form-field"],["type","text","formControlName","title","placeholder","Titulo de la imagen",1,"title-input"],[1,"upload-form-field"],["type","submit",1,"upload-button","opacity",3,"ngSubmit"],[1,"uploading-spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return n.closeUpload()}),e.qZA(),e.TgZ(2,"div",2),e.NdJ("click",function(){return n.closeUpload()}),e.O4$(),e.TgZ(3,"svg",3),e.TgZ(4,"title"),e._uU(5,"Cerrar"),e.qZA(),e._UZ(6,"path",4),e.qZA(),e.qZA(),e.kcU(),e.TgZ(7,"div",5),e.TgZ(8,"h2"),e._uU(9,"Crear nuevo post"),e.qZA(),e.YNc(10,de,7,5,"form",6),e.YNc(11,pe,1,0,"div",7),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",!n.uploading),e.xp6(1),e.Q6J("ngIf",n.uploading))},directives:[g.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u],styles:[".background[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;background-color:#000000a6;z-index:300;display:flex;align-items:center;justify-content:center}.cross[_ngcontent-%COMP%]{position:absolute;padding:16px;cursor:pointer;top:0;right:0}.toClose-modal[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed}.upload-form-cont[_ngcontent-%COMP%]{background:#fff;z-index:10000;width:90%;max-width:50em;height:841px;border-radius:5px;display:flex;flex-direction:column;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.upload-form-cont[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:1px solid #dbdbdb;font-size:14px;text-align:center;line-height:3em;font-weight:500}#file[_ngcontent-%COMP%]{display:none}.select-button[_ngcontent-%COMP%], .upload-button[_ngcontent-%COMP%]{background:var(--primary-blue);padding:5px 9px;font-size:14px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px}.upload-button[_ngcontent-%COMP%]{border:#fff;cursor:pointer;padding:6.6px 9px}.title-input[_ngcontent-%COMP%]{outline:none;border:none;padding:.4em .7em;width:100%;background:#eee;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px}#text-field[_ngcontent-%COMP%]{flex-grow:1}.upload-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;flex-direction:column;gap:1em}.upload-form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.9em;align-items:center;cursor:pointer}img[_ngcontent-%COMP%]{width:100%;max-height:700px;object-fit:contain}.upload[_ngcontent-%COMP%]{align-items:center;gap:1em;display:flex;width:80%}.uploading-spinner[_ngcontent-%COMP%]{border:4px solid var(--primary-blue);width:70px;height:70px;left:0;right:0;top:0;bottom:0;margin:auto;border-radius:50%;border-left-color:#eee;position:absolute;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),o})();function ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-upload",3),e.NdJ("onCloseUpload",function(i){return e.CHM(t),e.oxw().onCloseUpload(i)}),e.qZA()}}let me=(()=>{class o{constructor(t,n,i){this.aS=t,this.uS=n,this.is=i,this.openUpload="close"}ngOnInit(){this.uS.getFollowing().subscribe(),this.is.getDashboard().subscribe(),this.is.getMyLikes().subscribe()}onUpload(t){this.openUpload=t}onCloseUpload(t){this.openUpload=t}logout(){this.aS.logout().subscribe(),localStorage.removeItem("token")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M.e),e.Y36(b),e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-layout"]],decls:5,vars:3,consts:[[3,"onCloseUpload",4,"ngIf"],[1,"header"],[3,"onUpload"],[3,"onCloseUpload"]],template:function(t,n){1&t&&(e.YNc(0,ue,1,0,"app-upload",0),e.TgZ(1,"header",1),e.TgZ(2,"app-header",2),e.NdJ("onUpload",function(a){return n.onUpload(a)}),e.qZA(),e.qZA(),e.TgZ(3,"main"),e._UZ(4,"router-outlet"),e.qZA()),2&t&&(e.Q6J("ngIf","open"==n.openUpload),e.xp6(3),e.ekj("modalMain","open"==n.openUpload))},directives:[g.O5,re,m.lC,ge],styles:["main[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding-top:3.688em}.modalMain[_ngcontent-%COMP%]{overflow-y:hidden}"]}),o})(),I=(()=>{class o{transform(t){const n=Math.floor((Date.now()-Date.parse(t))/1e3);let i=n/31536e3;if(i>1)return Math.floor(i)+" A\xd1OS";if(i=n/2592e3,i>1){const c=Math.floor(i)>1?" MESES":" MES";return Math.floor(i)+c}if(i=n/86400,i>1){const c=Math.floor(i)>1?" DIAS":" DIA";return Math.floor(i)+c}if(i=n/3600,i>1){const c=(Math.floor(i)," HORAS");return Math.floor(i)+c}if(i=n/60,i>1){const c=(Math.floor(i)," MINUTOS");return Math.floor(i)+c}const a=Math.floor(i)>1?" SEGUNDOS":" SEGUNDO";return Math.floor(i)+a}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"time",type:o,pure:!0}),o})();const S=function(o){return["/",o]};function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e._UZ(1,"img",16),e.TgZ(2,"span",17),e.NdJ("click",function(i){return e.CHM(t),e.oxw().handleUsernameClick(i)}),e._uU(3),e.qZA(),e.TgZ(4,"span",18),e._uU(5),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("src",n.getAvatar(t.user.avatar_path),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(4,S,t.user.username)),e.xp6(1),e.Oqu(t.user.username),e.xp6(2),e.Oqu(t.content)}}function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().like()}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"path",44),e.qZA(),e.qZA()}}function he(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().dislike()}),e.O4$(),e.TgZ(1,"svg",46),e._UZ(2,"path",47),e.qZA(),e.qZA()}}let L=(()=>{class o{constructor(t,n,i,a,c){this.uS=t,this.iS=n,this.aS=i,this.renderer=a,this.fb=c,this.onUsernameClick=new e.vpe,this.commentForm=this.fb.group({content:["",l.kI.required]})}handleUsernameClick(t){this.onUsernameClick.emit(t)}comment(t){this.commentForm.invalid||(this.iS.comment(t,this.commentForm.value.content,!0).subscribe(),this.image.comments.push({id:this.image.comments.length+1,user_id:this.user.id,content:this.commentForm.value.content,user:this.user}),this.commentForm.reset())}get user(){return this.aS.user}get myLikes(){return this.iS.myLikes}ngOnInit(){}animateHeart(t){var n,i;const a=null===(i=null===(n=t.target)||void 0===n?void 0:n.parentNode)||void 0===i?void 0:i.children[1];this.renderer.addClass(a,"animate"),setTimeout(()=>{this.renderer.removeClass(a,"animate")},1e3)}like(){this.iS.like(this.image.id,!0)&&this.image.likes++}dislike(){this.iS.dislike(this.image.id,!0)&&this.image.likes--}checkLike(){return-1!=this.myLikes.findIndex(n=>n.image_id==this.image.id)}getAvatar(t){return this.uS.getAvatar(t)}getImage(t){return this.iS.getImage(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(C),e.Y36(M.e),e.Y36(e.Qsj),e.Y36(l.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-big-image"]],inputs:{image:"image"},outputs:{onUsernameClick:"onUsernameClick"},decls:49,vars:20,consts:[[1,"container"],[1,"image"],[3,"src","alt","dblclick"],[1,"like-heart","sprite-bg"],[1,"comment-box"],[1,"top"],[1,"username"],["alt","",1,"avatar","pointer",3,"src"],[1,"username-text","opacity","pointer"],[1,"dots","pointer"],["aria-label","M\xe1s opciones","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["cx","12","cy","12","r","1.5"],["cx","6","cy","12","r","1.5"],["cx","18","cy","12","r","1.5"],[1,"comments"],[1,"comment"],["alt","",1,"avatar","comment-avatar",3,"src"],[1,"user",3,"routerLink","click"],[1,"content"],["class","comment",4,"ngFor","ngForOf"],[1,"bottom"],[1,"actions"],[1,"left-actions"],["class","heart pointer",3,"click",4,"ngIf"],["class","red-heart pointer",3,"click",4,"ngIf"],[1,"bubble","pointer"],["aria-label","Comentar","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_8-yf5"],["d","M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"send","pointer"],["aria-label","Compartir publicaci\xf3n","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_8-yf5"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"right-actions"],["aria-label","Guardar","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_8-yf5"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"image-info"],[1,"likes"],[1,"time-ago"],[1,"comment-bar"],[1,"comment-form",3,"formGroup","ngSubmit"],["type","text","placeholder","Agrega un comentario...","formControlName","content",1,"comment-input"],["type","submit"],[1,"heart","pointer",3,"click"],["aria-label","Me gusta","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24",1,"_8-yf5"],["d","M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"],[1,"red-heart","pointer",3,"click"],["aria-label","Ya no me gusta","color","#ed4956","fill","#ed4956","height","24","role","img","viewBox","0 0 48 48","width","24",1,"_8-yf5"],["d","M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"]],template:function(t,n){1&t&&(e.TgZ(0,"article",0),e.TgZ(1,"div",1),e.TgZ(2,"img",2),e.NdJ("dblclick",function(){return n.like()})("dblclick",function(a){return n.animateHeart(a)}),e.qZA(),e._UZ(3,"div",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e.TgZ(8,"span",8),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.O4$(),e.TgZ(11,"svg",10),e._UZ(12,"circle",11),e._UZ(13,"circle",12),e._UZ(14,"circle",13),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(15,"div",14),e.TgZ(16,"div",15),e._UZ(17,"img",16),e.TgZ(18,"span",17),e.NdJ("click",function(a){return n.handleUsernameClick(a)}),e._uU(19),e.qZA(),e.TgZ(20,"span",18),e._uU(21),e.qZA(),e.qZA(),e.YNc(22,_e,6,6,"div",19),e.qZA(),e.TgZ(23,"div",20),e.TgZ(24,"div",21),e.TgZ(25,"div",22),e.YNc(26,fe,3,0,"div",23),e.YNc(27,he,3,0,"div",24),e.TgZ(28,"div",25),e.O4$(),e.TgZ(29,"svg",26),e._UZ(30,"path",27),e.qZA(),e.qZA(),e.kcU(),e.TgZ(31,"div",28),e.O4$(),e.TgZ(32,"svg",29),e._UZ(33,"line",30),e._UZ(34,"polygon",31),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(35,"div",32),e.O4$(),e.TgZ(36,"svg",33),e._UZ(37,"polygon",34),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(38,"div",35),e.TgZ(39,"span",36),e._uU(40),e.qZA(),e.TgZ(41,"span",37),e._uU(42),e.ALo(43,"time"),e.qZA(),e.qZA(),e.TgZ(44,"div",38),e.TgZ(45,"form",39),e.NdJ("ngSubmit",function(){return n.comment(n.image.id)}),e._UZ(46,"input",40),e.TgZ(47,"button",41),e._uU(48,"Publicar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("src",n.getImage(n.image.image_path),e.LSH)("alt",n.image.titulo),e.xp6(5),e.Q6J("src",n.getAvatar(n.image.avatar_path),e.LSH),e.xp6(2),e.Oqu(n.image.username),e.xp6(8),e.Q6J("src",n.getAvatar(n.image.avatar_path),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(18,S,n.image.username)),e.xp6(1),e.Oqu(n.image.username),e.xp6(2),e.Oqu(n.image.titulo),e.xp6(1),e.Q6J("ngForOf",n.image.comments),e.xp6(4),e.Q6J("ngIf",!n.checkLike()),e.xp6(1),e.Q6J("ngIf",n.checkLike()),e.xp6(13),e.hij("",n.image.likes," Me gusta"),e.xp6(2),e.Oqu(e.lcZ(43,16,n.image.uploaded_at)),e.xp6(3),e.Q6J("formGroup",n.commentForm),e.xp6(2),e.ekj("disabled-button",!0===n.commentForm.invalid))},directives:[m.rH,g.sg,g.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u],pipes:[I],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;display:flex;height:95vh}@media screen and (max-width: 1185px){.container[_ngcontent-%COMP%]{height:70vw}}.container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex-basis:55em;background:#000;position:relative}.container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:100%}.container[_ngcontent-%COMP%]   .comment-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:14px 1em;border-bottom:1px solid #efefef}.container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.container[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.container[_ngcontent-%COMP%]   .username-text[_ngcontent-%COMP%]{font-weight:600}.container[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{height:785px;padding:1em;width:100%;display:flex;flex-direction:column;gap:1.6em;overflow-y:scroll;border-bottom:1px solid #efefef}.container[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{display:flex;gap:.3em}.container[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{margin-right:.5em}.container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:6px}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5em 1em}.container[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:1em}.container[_ngcontent-%COMP%]   .image-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:600;gap:.4em;padding:0 1em 14px;border-bottom:1px solid #efefef}.container[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.container[_ngcontent-%COMP%]   .time-ago[_ngcontent-%COMP%]{font-size:10px;line-height:12px;color:#8e8e8e}.container[_ngcontent-%COMP%]   .comment-bar[_ngcontent-%COMP%]{padding:6px 1em}.container[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center;gap:1em}.container[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{width:100%;outline:none;border:none;font-size:14px;height:18px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#0095f6;font-size:14px;font-weight:600;cursor:pointer}.container[_ngcontent-%COMP%]   .disabled-button[_ngcontent-%COMP%]{opacity:.3;cursor:initial}.container[_ngcontent-%COMP%]   .like-heart[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:0 0;height:128px;position:absolute;width:128px;top:0;left:0;right:0;bottom:0;margin:auto;pointer-events:none;opacity:0}.container[_ngcontent-%COMP%]   .disabled-button[_ngcontent-%COMP%]{opacity:.5;cursor:initial}.animate[_ngcontent-%COMP%]{animation-duration:1s;animation-name:like-heart-animation;animation-timing-function:ease-in-out}@keyframes like-heart-animation{0%{opacity:0;transform:scale(0)}15%{opacity:.9;transform:scale(1.2)}30%{transform:scale(.95)}80%{opacity:.9;transform:scale(1)}to{opacity:0;transform:scale(0)}}"]}),o})();function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().like(i.id)}),e.O4$(),e.TgZ(1,"svg",44),e._UZ(2,"path",45),e.qZA(),e.qZA()}}function Ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().dislike(i.id)}),e.O4$(),e.TgZ(1,"svg",47),e._UZ(2,"path",48),e.qZA(),e.qZA()}}function be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().imageModal=i}),e._uU(1),e.ALo(2,"i18nPlural"),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.comment_number,n.commentMapping))}}function ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",50),e.TgZ(1,"div",51),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.qZA(),e.TgZ(2,"app-big-image",52),e.NdJ("onUsernameClick",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.qZA(),e.TgZ(3,"div",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.O4$(),e.TgZ(4,"svg",54),e.TgZ(5,"title"),e._uU(6,"Cerrar"),e.qZA(),e._UZ(7,"path",55),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("image",t.imageModal)}}const Me=function(o){return["/",o]};function Ze(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"header",4),e.TgZ(2,"div",5),e._UZ(3,"img",6),e.TgZ(4,"span",7),e.TgZ(5,"a",8),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",9),e.O4$(),e.TgZ(8,"svg",10),e._UZ(9,"circle",11),e._UZ(10,"circle",12),e._UZ(11,"circle",13),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(12,"picture",14),e.NdJ("dblclick",function(){const a=e.CHM(t).$implicit;return e.oxw().like(a.id)})("dblclick",function(i){return e.CHM(t),e.oxw().animateHeart(i)}),e._UZ(13,"img",15),e._UZ(14,"div",16),e.qZA(),e.TgZ(15,"div",17),e.TgZ(16,"div",18),e.YNc(17,xe,3,0,"div",19),e.YNc(18,Ce,3,0,"div",20),e.TgZ(19,"div",21),e.O4$(),e.TgZ(20,"svg",22),e._UZ(21,"path",23),e.qZA(),e.qZA(),e.kcU(),e.TgZ(22,"div",24),e.O4$(),e.TgZ(23,"svg",25),e._UZ(24,"line",26),e._UZ(25,"polygon",27),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(26,"div",28),e.O4$(),e.TgZ(27,"svg",29),e._UZ(28,"polygon",30),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(29,"div",31),e.TgZ(30,"div",32),e.TgZ(31,"span"),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",33),e.TgZ(34,"span",34),e._uU(35),e.qZA(),e.TgZ(36,"span",35),e._uU(37),e.qZA(),e.qZA(),e.YNc(38,be,3,4,"div",36),e.YNc(39,ve,8,1,"div",37),e.TgZ(40,"div",38),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"time"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",39),e.TgZ(45,"form",40),e.NdJ("ngSubmit",function(){const a=e.CHM(t).$implicit;return e.oxw().comment(a.id)}),e._UZ(46,"input",41),e.TgZ(47,"button",42),e._uU(48,"Publicar"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(3),e.Q6J("src",n.avatar(t.avatar_path),e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(18,Me,t.username)),e.xp6(1),e.Oqu(t.username),e.xp6(7),e.Q6J("src",n.imagePath(t.image_path),e.LSH)("alt",t.username),e.xp6(4),e.Q6J("ngIf",!n.checkLike(t.id)),e.xp6(1),e.Q6J("ngIf",n.checkLike(t.id)),e.xp6(14),e.hij("",t.likes," Me gusta"),e.xp6(3),e.Oqu(t.username),e.xp6(2),e.hij(" ",t.titulo,""),e.xp6(1),e.Q6J("ngIf",t.comment_number>0),e.xp6(1),e.Q6J("ngIf",null!==n.imageModal),e.xp6(3),e.hij("HACE ",e.lcZ(43,16,t.uploaded_at),""),e.xp6(3),e.Q6J("formGroup",n.commentForm),e.xp6(2),e.ekj("disabled-button",!0===n.commentForm.invalid)}}let Pe=(()=>{class o{constructor(t,n,i,a){this.uS=t,this.is=n,this.fb=i,this.renderer=a,this.imageModal=null,this.commentMapping={"=1":"Ver el comentario",other:"Ver los # comentarios"},this.commentForm=this.fb.group({content:["",l.kI.required]})}animateHeart(t){var n,i;const a=null===(i=null===(n=t.target)||void 0===n?void 0:n.parentNode)||void 0===i?void 0:i.children[1];this.renderer.addClass(a,"animate"),setTimeout(()=>{this.renderer.removeClass(a,"animate")},1e3)}get dashboard(){return this.is.dashboard}get myLikes(){return this.is.myLikes}comment(t){this.commentForm.invalid||(this.is.comment(t,this.commentForm.value.content).subscribe(),this.commentForm.reset())}avatar(t){return this.uS.getAvatar(t)}imagePath(t){return this.is.getImage(t)}like(t){this.is.like(t)}dislike(t){this.is.dislike(t)}checkLike(t){return-1!=this.myLikes.findIndex(i=>i.image_id==t)}ngOnInit(){this.is.getDashboard().subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(C),e.Y36(l.qu),e.Y36(e.Qsj))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-principal"]],decls:4,vars:1,consts:[[1,"dashboard"],[1,"images"],["class","image",4,"ngFor","ngForOf"],[1,"image"],[1,"top"],[1,"username"],[1,"avatar",3,"src"],[1,"username-text","opacity"],[3,"routerLink"],[1,"dots"],["aria-label","M\xe1s opciones","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["cx","12","cy","12","r","1.5"],["cx","6","cy","12","r","1.5"],["cx","18","cy","12","r","1.5"],[1,"img-cont",3,"dblclick"],[3,"src","alt"],[1,"like-heart","sprite-bg"],[1,"actions"],[1,"left-actions"],["class","heart",3,"click",4,"ngIf"],["class","red-heart",3,"click",4,"ngIf"],[1,"comment-bubble"],["aria-label","Comentar","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["d","M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z","fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"send"],["aria-label","Compartir publicaci\xf3n","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["fill","none","stroke","currentColor","stroke-linejoin","round","stroke-width","2","x1","22","x2","9.218","y1","3","y2","10.083"],["fill","none","points","11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334","stroke","currentColor","stroke-linejoin","round","stroke-width","2"],[1,"save-img"],["aria-label","Guardar","color","#262626","fill","#262626","height","24","role","img","viewBox","0 0 24 24","width","24"],["fill","none","points","20 21 12 13.44 4 21 4 3 20 3 20 21","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"comments"],[1,"likes"],[1,"title"],[1,"title-username"],[1,"title-content"],["class","all-comments-btn opacity",3,"click",4,"ngIf"],["class","big-image",4,"ngIf"],[1,"uploaded-at"],[1,"comment-box"],[1,"comment-form",3,"formGroup","ngSubmit"],["type","text","placeholder","Agrega un comentario...","formControlName","content",1,"comment-input"],["type","submit"],[1,"heart",3,"click"],["aria-label","Me gusta","color","#8e8e8e","fill","#8e8e8e","height","24","role","img","viewBox","0 0 24 24","width","24"],["d","M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"],[1,"red-heart",3,"click"],["aria-label","Ya no me gusta","color","#ed4956","fill","#ed4956","height","24","role","img","viewBox","0 0 48 48","width","24",1,"_8-yf5"],["d","M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"],[1,"all-comments-btn","opacity",3,"click"],[1,"big-image"],[1,"toClose-modal",3,"click"],[1,"big-i-componenet",3,"image","onUsernameClick"],[1,"cross",3,"click"],["aria-label","Cerrar","color","#ffffff","fill","#ffffff","height","18","role","img","viewBox","0 0 48 48","width","18",1,"fg7vo5n6","lrzqjn8y"],["clip-rule","evenodd","d","M41.8 9.8L27.5 24l14.2 14.2c.6.6.6 1.5 0 2.1l-1.4 1.4c-.6.6-1.5.6-2.1 0L24 27.5 9.8 41.8c-.6.6-1.5.6-2.1 0l-1.4-1.4c-.6-.6-.6-1.5 0-2.1L20.5 24 6.2 9.8c-.6-.6-.6-1.5 0-2.1l1.4-1.4c.6-.6 1.5-.6 2.1 0L24 20.5 38.3 6.2c.6-.6 1.5-.6 2.1 0l1.4 1.4c.6.6.6 1.6 0 2.2z","fill-rule","evenodd"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Ze,49,20,"div",2),e.qZA(),e._UZ(3,"aside"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.dashboard))},directives:[g.sg,m.yS,g.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,L],pipes:[I,g.Gx],styles:[".dashboard[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 3.688em);display:grid;grid-auto-flow:column;grid-template-columns:1.4fr 1fr}@media screen and (max-width: 1125px){.dashboard[_ngcontent-%COMP%]{grid-template-columns:1fr}}.dashboard[_ngcontent-%COMP%]   .big-image[_ngcontent-%COMP%]{position:fixed;background-color:#000000a6;width:100%;height:100%;top:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center}.dashboard[_ngcontent-%COMP%]   .big-i-componenet[_ngcontent-%COMP%]{width:90%;max-width:90em}.dashboard[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{position:absolute;padding:16px;cursor:pointer;top:0;right:0}.dashboard[_ngcontent-%COMP%]   .toClose-modal[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:-1000}.dashboard[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{padding-right:.5em;padding-top:24px;display:flex;flex-direction:column;align-items:flex-end;gap:24px;padding-bottom:2em}@media screen and (max-width: 1125px){.dashboard[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{align-items:center}}.dashboard[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{max-width:38.375em;width:85%;display:flex;flex-direction:column;background:#fff;border:1px solid #dbdbdb}.dashboard[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center;border-bottom:1px solid #efefef;padding:0 1em}.dashboard[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;gap:14px}.dashboard[_ngcontent-%COMP%]   .username-text[_ngcontent-%COMP%]{color:#262626}.dashboard[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.dashboard[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{cursor:pointer}.dashboard[_ngcontent-%COMP%]   .img-cont[_ngcontent-%COMP%]{width:100%;position:relative;max-height:40em}.dashboard[_ngcontent-%COMP%]   .img-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-user-drag:none}.dashboard[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.875em 1em .5em}.dashboard[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .comment-bubble[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .red-heart[_ngcontent-%COMP%]{width:2.5em}.dashboard[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover, .dashboard[_ngcontent-%COMP%]   .comment-bubble[_ngcontent-%COMP%]:hover, .dashboard[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]:hover, .dashboard[_ngcontent-%COMP%]   .red-heart[_ngcontent-%COMP%]:hover{opacity:.8}.dashboard[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex}.dashboard[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .save-img[_ngcontent-%COMP%]{cursor:pointer}.dashboard[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{padding:0 1em}.dashboard[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{line-height:18px;margin-bottom:.3em}.dashboard[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#262626;font-weight:600}.dashboard[_ngcontent-%COMP%]   .title-username[_ngcontent-%COMP%]{font-weight:600;font-size:14px;cursor:pointer}.dashboard[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{font-size:14px}.dashboard[_ngcontent-%COMP%]   .all-comments-btn[_ngcontent-%COMP%]{color:#8e8e8e;font-size:14px;line-height:18px;margin-bottom:4px;cursor:pointer;user-select:none}.dashboard[_ngcontent-%COMP%]   .uploaded-at[_ngcontent-%COMP%]{font-size:10px;color:#8e8e8e;line-height:18px;margin-bottom:16px}.dashboard[_ngcontent-%COMP%]   .red-heart[_ngcontent-%COMP%]:hover{opacity:1}.dashboard[_ngcontent-%COMP%]   .comment-box[_ngcontent-%COMP%]{padding:6px 16px;border-top:1px solid #efefef}.dashboard[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center}.dashboard[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{width:100%;outline:none;border:none;font-size:14px;height:18px}.dashboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#0095f6;font-size:14px;font-weight:600;cursor:pointer}.dashboard[_ngcontent-%COMP%]   .disabled-button[_ngcontent-%COMP%]{opacity:.3;cursor:initial}.dashboard[_ngcontent-%COMP%]   .like-heart[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:0 0;height:128px;position:absolute;width:128px;top:0;left:0;right:0;bottom:0;margin:auto;opacity:0}.animate[_ngcontent-%COMP%]{animation-duration:1s;animation-name:like-heart-animation;animation-timing-function:ease-in-out}@keyframes like-heart-animation{0%{opacity:0;transform:scale(0)}15%{opacity:.9;transform:scale(1.2)}30%{transform:scale(.95)}80%{opacity:.9;transform:scale(1)}to{opacity:0;transform:scale(0)}}"]}),o})(),Oe=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-explore"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"FUNCION NO IMPLEMENTADA"),e.qZA())},styles:[""]}),o})(),ke=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-chats"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"FUNCION NO IMPLEMENTADA..."),e.qZA())},styles:[""]}),o})();var we=d(3067);let Te=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-error-page"]],decls:7,vars:0,consts:[[1,"error-text"],["routerLink","/"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h2"),e._uU(2,"Esta p\xe1gina no est\xe1 disponible."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Es posible que el enlace que seleccionaste no funcione o que se haya eliminado la p\xe1gina. "),e.TgZ(5,"a",1),e._uU(6,"Volver a Instagram."),e.qZA(),e.qZA(),e.qZA())},directives:[m.yS],styles:[".error-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.2em;margin-top:2.5em;padding:0 1em}h2[_ngcontent-%COMP%]{text-align:center;font-size:22px}p[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{color:#00376b}"]}),o})();function ye(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openEdit()}),e._uU(1,"Editar perfil"),e.qZA()}}function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).follow()}),e._uU(1,"Seguir"),e.qZA()}}function Ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).unfollow()}),e._uU(1,"Siguiendo"),e.qZA()}}function qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).imageModal=a}),e._UZ(1,"img",28),e.TgZ(2,"div",29),e.TgZ(3,"ul"),e.TgZ(4,"li"),e._UZ(5,"span",30),e.TgZ(6,"span",31),e._uU(7,"19"),e.qZA(),e.qZA(),e.TgZ(8,"li"),e._UZ(9,"span",32),e.TgZ(10,"span",31),e._uU(11,"3"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("src",n.getImage(t.image_path),e.LSH)("alt",t.titulo)}}function Ie(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"div",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.qZA(),e.TgZ(2,"app-big-image",35),e.NdJ("onUsernameClick",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.qZA(),e.TgZ(3,"div",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).imageModal=null}),e.O4$(),e.TgZ(4,"svg",37),e.TgZ(5,"title"),e._uU(6,"Cerrar"),e.qZA(),e._UZ(7,"path",38),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("image",t.imageModal)}}function Se(o,r){1&o&&e._UZ(0,"div",43)}function Le(o,r){if(1&o&&e._UZ(0,"img",60),2&o){const t=e.oxw(4);e.Q6J("src",t.avatarPrevio,e.LSH)}}function Je(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",44),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(3).updateProfile()}),e.TgZ(1,"div",45),e.TgZ(2,"label",46),e._uU(3,"Nombre:"),e.qZA(),e._UZ(4,"input",47),e.qZA(),e.TgZ(5,"div",45),e.TgZ(6,"label",48),e._uU(7,"Apellido:"),e.qZA(),e._UZ(8,"input",49),e.qZA(),e.TgZ(9,"div",45),e.TgZ(10,"label",50),e._uU(11,"Username:"),e.qZA(),e._UZ(12,"input",51),e.qZA(),e.TgZ(13,"div",45),e.TgZ(14,"label",52),e._uU(15,"Email:"),e.qZA(),e._UZ(16,"input",53),e.qZA(),e.TgZ(17,"div",54),e.TgZ(18,"label",55),e.TgZ(19,"span",56),e._uU(20,"Seleccionar avatar de tu computadora"),e.qZA(),e.TgZ(21,"input",57),e.NdJ("input",function(i){return e.CHM(t),e.oxw(3).onFileSelected(i)}),e.qZA(),e.qZA(),e.YNc(22,Le,1,1,"img",58),e.qZA(),e.TgZ(23,"button",59),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(3).updateProfile()}),e._uU(24,"Actualizar"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("formGroup",t.updateForm),e.xp6(22),e.Q6J("ngIf",t.avatarPrevio)}}function Fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"div",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit=!1}),e.qZA(),e.TgZ(2,"div",40),e.YNc(3,Se,1,0,"div",41),e.YNc(4,Je,25,2,"form",42),e.qZA(),e.TgZ(5,"div",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit=!1}),e.O4$(),e.TgZ(6,"svg",37),e.TgZ(7,"title"),e._uU(8,"Cerrar"),e.qZA(),e._UZ(9,"path",38),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.updating),e.xp6(1),e.Q6J("ngIf",!t.updating)}}function Ne(o,r){if(1&o&&(e.TgZ(0,"section",2),e.TgZ(1,"div",3),e.TgZ(2,"header",4),e.TgZ(3,"div",5),e._UZ(4,"img",6),e.qZA(),e.TgZ(5,"div",7),e.TgZ(6,"div",8),e.TgZ(7,"h2",9),e._uU(8),e.qZA(),e.YNc(9,ye,2,0,"div",10),e.YNc(10,Ae,2,0,"div",11),e.YNc(11,Ue,2,0,"div",12),e.qZA(),e.TgZ(12,"div",13),e.TgZ(13,"span",14),e.TgZ(14,"span",15),e._uU(15),e.qZA(),e._uU(16," publicaciones"),e.qZA(),e.TgZ(17,"span",16),e.TgZ(18,"span",15),e._uU(19),e.qZA(),e._uU(20," seguidores"),e.qZA(),e.TgZ(21,"span",17),e.TgZ(22,"span",15),e._uU(23),e.qZA(),e._uU(24," seguidos"),e.qZA(),e.qZA(),e.TgZ(25,"div",18),e.TgZ(26,"span"),e._uU(27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(28,"div",19),e.TgZ(29,"div",20),e.YNc(30,qe,12,2,"div",21),e.qZA(),e.qZA(),e.YNc(31,Ie,8,1,"div",22),e.YNc(32,Fe,10,2,"div",23),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("src",t.getAvatar(t.profile.avatar_path),e.LSH),e.xp6(4),e.Oqu(t.username),e.xp6(1),e.Q6J("ngIf",t.username===t.user.username),e.xp6(1),e.Q6J("ngIf",!t.checkFollow()&&t.username!==t.user.username),e.xp6(1),e.Q6J("ngIf",t.checkFollow()&&t.username!==t.user.username),e.xp6(4),e.Oqu(null==t.profile.images?null:t.profile.images.length),e.xp6(4),e.Oqu(t.profile.followers),e.xp6(4),e.Oqu(t.profile.follows),e.xp6(4),e.Oqu(t.profile.name),e.xp6(3),e.Q6J("ngForOf",t.profile.images),e.xp6(1),e.Q6J("ngIf",null!==t.imageModal),e.xp6(1),e.Q6J("ngIf",t.edit)}}function ze(o,r){1&o&&(e.TgZ(0,"div",61),e._UZ(1,"app-error-page"),e.qZA())}const He=[{path:"",component:me,children:[{path:"",component:Pe},{path:"explore",component:Oe},{path:"direct/imbox",component:ke},{path:":username",component:(()=>{class o{constructor(t,n,i,a,c,s,p){var u=this;this.router=t,this.fB=n,this.sanitizer=i,this.iS=a,this.uS=c,this.activatedRoute=s,this.aS=p,this.username="",this.loading=!0,this.imageModal=null,this.edit=!1,this.updating=!1,this.updateForm=this.fB.group({name:[null,l.kI.required],surname:["",l.kI.required],email:["",l.kI.required],username:["",l.kI.required],file:[null],fileSource:[null]}),this.blobFile=function(){var h=U(function*(f){return new Promise((x,$e)=>{try{const J=window.URL.createObjectURL(f),F=u.sanitizer.bypassSecurityTrustUrl(J),O=new FileReader;O.readAsDataURL(f),O.onload=()=>{x({blob:f,image:F,base:O.result})},O.onerror=De=>{x({blob:f,image:F,base:null})}}catch(J){return null}})});return function(f){return h.apply(this,arguments)}}()}get profile(){return this.uS.profile}get following(){return this.uS.following}get user(){return this.aS.user}onFileSelected(t){const n=t.target.files[0];["image/png","image/jpg","image/jpeg"].includes(n.type)&&t.target.files.length>0&&(this.updateForm.patchValue({fileSource:n}),this.blobFile(n).then(i=>{this.avatarPrevio=i.base}))}openEdit(){this.edit=!0,this.updateForm.setValue({name:this.profile.name,surname:this.profile.surname,email:this.profile.email,username:this.username,file:null,fileSource:null})}follow(){this.uS.follow({id:this.profile.id,username:this.username,avatar_path:this.user.avatar_path,email:this.user.email,name:this.user.name,surname:this.user.surname}).subscribe(),this.iS.getDashboard().subscribe()}unfollow(){this.uS.unfollow(this.profile.id).subscribe(),this.iS.getDashboard().subscribe()}checkFollow(){return!!this.following.find(n=>n.id===this.profile.id)}getProfile(){this.activatedRoute.params.pipe((0,_.b)(({username:t})=>{this.username=t,this.loading=!0}),(0,we.w)(({username:t})=>this.uS.getProfile(t))).subscribe(t=>{this.loading=!1})}ngOnInit(){this.getProfile(),this.imageModal=null}getAvatar(t){return this.uS.getAvatar(t)}getImage(t){return this.iS.getImage(t)}updateProfile(){if(this.updateForm.invalid)return;const t=new FormData;t.append("name",this.updateForm.value.name),t.append("surname",this.updateForm.value.surname),t.append("email",this.updateForm.value.email),t.append("username",this.updateForm.value.username),this.updateForm.value.fileSource&&t.append("avatar_path",this.updateForm.value.fileSource),this.updating=!0,this.uS.updateProfile(t).subscribe(),this.aS.updateProfile(t).subscribe(n=>{this.updating=!1,this.edit=!1,this.username!=this.updateForm.value.username&&this.router.navigateByUrl(`/${this.updateForm.value.username}`)}),this.iS.getDashboard().subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(l.qu),e.Y36(q.H7),e.Y36(C),e.Y36(b),e.Y36(m.gz),e.Y36(M.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile"]],decls:2,vars:2,consts:[["class","profile-cont",4,"ngIf"],["class","no-user",4,"ngIf"],[1,"profile-cont"],[1,"profile"],[1,"profile-header"],[1,"profile-avatar"],[1,"avatar",3,"src"],[1,"profile-info"],[1,"info-top"],[1,"info-username"],["class","info-config",3,"click",4,"ngIf"],["class","info-follow info-button",3,"click",4,"ngIf"],["class","info-following info-button",3,"click",4,"ngIf"],[1,"info-numbers"],[1,"images-number"],[1,"bold"],[1,"followers"],[1,"followed"],[1,"info-name","bold"],[1,"line"],[1,"images"],["class","image",3,"click",4,"ngFor","ngForOf"],["class","big-image",4,"ngIf"],["class","edit-profile",4,"ngIf"],[1,"info-config",3,"click"],[1,"info-follow","info-button",3,"click"],[1,"info-following","info-button",3,"click"],[1,"image",3,"click"],[3,"src","alt"],[1,"grey-bg"],[1,"sprite-bg","image-heart"],[1,"image-number"],[1,"sprite-bg","image-comments"],[1,"big-image"],[1,"toClose-modal",3,"click"],[1,"big-i-componenet",3,"image","onUsernameClick"],[1,"cross",3,"click"],["aria-label","Cerrar","color","#ffffff","fill","#ffffff","height","18","role","img","viewBox","0 0 48 48","width","18",1,"fg7vo5n6","lrzqjn8y"],["clip-rule","evenodd","d","M41.8 9.8L27.5 24l14.2 14.2c.6.6.6 1.5 0 2.1l-1.4 1.4c-.6.6-1.5.6-2.1 0L24 27.5 9.8 41.8c-.6.6-1.5.6-2.1 0l-1.4-1.4c-.6-.6-.6-1.5 0-2.1L20.5 24 6.2 9.8c-.6-.6-.6-1.5 0-2.1l1.4-1.4c.6-.6 1.5-.6 2.1 0L24 20.5 38.3 6.2c.6-.6 1.5-.6 2.1 0l1.4 1.4c.6.6.6 1.6 0 2.2z","fill-rule","evenodd"],[1,"edit-profile"],[1,"edit-form-cont"],["class","spinner updating-spinner",4,"ngIf"],["class","edit-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"spinner","updating-spinner"],[1,"edit-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","formControlName","name",1,"edit-form-input"],["for","apellido"],["type","text","name","apellido","formControlName","surname",1,"edit-form-input"],["for","username"],["type","text","name","username","formControlName","username",1,"edit-form-input"],["for","email"],["type","text","name","email","formControlName","email",1,"edit-form-input"],[1,"form-group","avatar-group"],["for","avatar"],[1,"select-avatar-button"],["type","file","name","avatar","id","avatar","formControlName","file",1,"edit-form-input","select-avatar",3,"input"],["class","preview-avatar",3,"src",4,"ngIf"],["type","submit",3,"ngSubmit"],[1,"preview-avatar",3,"src"],[1,"no-user"]],template:function(t,n){1&t&&(e.YNc(0,Ne,33,12,"section",0),e.YNc(1,ze,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.profile.ok&&!n.loading),e.xp6(1),e.Q6J("ngIf",!n.profile.ok&&!n.loading))},directives:[g.O5,g.sg,L,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,Te],styles:[".profile-cont[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 3.688em);display:flex;justify-content:center}.profile-cont[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{max-width:975px;width:100%;height:100%;display:flex;flex-direction:column}.profile-cont[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{width:100%;display:flex;gap:3.6em;padding-left:3em;padding-top:1.4em}@media screen and (max-width: 735px){.profile-cont[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{flex-direction:column;gap:1em}}.profile-cont[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;-webkit-user-drag:none;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.profile-cont[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px}@media screen and (max-width: 735px){.profile-cont[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:70px;height:70px}}.profile-cont[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:.7em;gap:20px}.profile-cont[_ngcontent-%COMP%]   .info-top[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.profile-cont[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300}.profile-cont[_ngcontent-%COMP%]   .info-config[_ngcontent-%COMP%]{padding:2.5px 8px;border:1px solid #dbdbdb;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer}.profile-cont[_ngcontent-%COMP%]   .info-numbers[_ngcontent-%COMP%]{display:flex;gap:40px}.profile-cont[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:600}.profile-cont[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%;border-top:2px solid #dbdbdb;margin-top:44px;margin-bottom:1.5em}.profile-cont[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(auto-fit,305px);grid-gap:30px;min-height:120.66px}@media screen and (max-width: 975px){.profile-cont[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{grid-gap:8px;grid-template-rows:repeat(auto-fill,33.3333333333vw)}}.profile-cont[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}@media screen and (max-width: 920px){.profile-cont[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:auto}}.profile-cont[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.profile-cont[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:hover   .grey-bg[_ngcontent-%COMP%]{visibility:visible}.profile-cont[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]{width:100%;position:absolute;background:rgba(0,0,0,.3);top:0;height:100%;cursor:pointer;visibility:hidden}.profile-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;gap:30px}.profile-cont[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.profile-cont[_ngcontent-%COMP%]   .image-heart[_ngcontent-%COMP%]{background-position:-340px -333px;width:19px;height:19px}.profile-cont[_ngcontent-%COMP%]   .image-comments[_ngcontent-%COMP%]{background-position:-382px -333px;width:19px;height:19px}.profile-cont[_ngcontent-%COMP%]   .image-number[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem}.profile-cont[_ngcontent-%COMP%]   .big-image[_ngcontent-%COMP%], .profile-cont[_ngcontent-%COMP%]   .edit-profile[_ngcontent-%COMP%]{position:fixed;background-color:#000000a6;width:100%;height:100%;top:0;z-index:100;display:flex;align-items:center;justify-content:center}.profile-cont[_ngcontent-%COMP%]   .big-i-componenet[_ngcontent-%COMP%], .profile-cont[_ngcontent-%COMP%]   .edit-form-cont[_ngcontent-%COMP%]{width:90%;max-width:90em}.profile-cont[_ngcontent-%COMP%]   .edit-form-cont[_ngcontent-%COMP%]{max-width:30em;background:#fff}.profile-cont[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]{width:100%;padding:1.5em;display:flex;gap:1em;flex-direction:column}.profile-cont[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.profile-cont[_ngcontent-%COMP%]   .edit-form-input[_ngcontent-%COMP%]{outline:none;border:none;padding:.4em .7em;width:100%;background:#eee;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px}.profile-cont[_ngcontent-%COMP%]   .select-avatar[_ngcontent-%COMP%]{display:none}.profile-cont[_ngcontent-%COMP%]   .select-avatar-button[_ngcontent-%COMP%]{background:var(--primary-blue);padding:5.5px .7em;cursor:pointer;font-size:14px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px}.profile-cont[_ngcontent-%COMP%]   .updating-spinner[_ngcontent-%COMP%]{width:5em;height:5em;border-color:var(--primary-blue);border-left-color:#eee}.profile-cont[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:#fff;cursor:pointer;padding:6.6px 9px;background:var(--primary-blue);color:#fff}.profile-cont[_ngcontent-%COMP%]   .avatar-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:10px}.profile-cont[_ngcontent-%COMP%]   .preview-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.profile-cont[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{position:absolute;padding:16px;cursor:pointer;top:0;right:0}.profile-cont[_ngcontent-%COMP%]   .toClose-modal[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:-1000}.profile-cont[_ngcontent-%COMP%]   .info-button[_ngcontent-%COMP%]{width:95px;padding:5px 9px;border-radius:4px;text-align:center;font-size:14px;color:#fff;font-weight:900;cursor:pointer;user-select:none;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px}.profile-cont[_ngcontent-%COMP%]   .info-follow[_ngcontent-%COMP%]{background:var(--primary-blue)}.profile-cont[_ngcontent-%COMP%]   .info-following[_ngcontent-%COMP%]{background:none;border:1px solid #dbdbdb;color:#222}.no-user[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 3.688em);display:flex;justify-content:center}"]}),o})()},{path:"**",redirectTo:""}]}];let je=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(He)],m.Bz]}),o})(),Ye=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,je,l.UX,l.u5]]}),o})()}}]);